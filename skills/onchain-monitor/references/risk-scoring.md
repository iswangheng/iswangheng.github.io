# 风险评分规则

## 概述

风险评分系统对每个代币进行 0-100 分的综合评估，分数越高代表风险越低。

## 评分维度

### 1. 流动性评分 (30分)

评估代币的市场深度和流动性。

| 流动性范围 | 得分 |
|-----------|------|
| > $1,000,000 | 30 |
| > $500,000 | 25 |
| > $100,000 | 20 |
| > $50,000 | 15 |
| > $10,000 | 10 |
| < $10,000 | 5 |

**重要性**: 高流动性意味着更好的退出机会和更低的价格滑点。

### 2. 交易活跃度评分 (20分)

基于 24 小时交易量和交易次数。

**交易次数评分 (10分)**:
| 交易次数 | 得分 |
|---------|------|
| > 1000 | 10 |
| > 500 | 8 |
| > 100 | 6 |
| > 50 | 4 |
| < 50 | 2 |

**交易量评分 (10分)**:
| 交易量 (USD) | 得分 |
|-------------|------|
| > $1,000,000 | 10 |
| > $500,000 | 8 |
| > $100,000 | 6 |
| > $50,000 | 4 |
| < $50,000 | 2 |

### 3. 创建时间评分 (15分)

新创建的代币风险更高。

| 代币年龄 | 得分 | 风险 |
|---------|------|------|
| < 1 小时 | 3 | 极高 |
| < 6 小时 | 5 | 高 |
| < 24 小时 | 8 | 中高 |
| < 3 天 | 10 | 中 |
| < 7 天 | 12 | 中低 |
| > 7 天 | 15 | 低 |

**注意**: 新币通常波动剧烈，但也可能带来高收益。

### 4. 貔貅盘检测评分 (20分)

使用专业工具检测代币是否为骗局。

| 检测结果 | 得分 |
|---------|------|
| 安全，无风险 | 20 |
| 有轻微警告 | 10-15 |
| 有高风险警告 | 5 |
| 确认是貔貅盘 | 0 |

**关键检测项**:
- 买卖税率差异
- 无法卖出
- 合约后门
- 恶意代码

### 5. 市场深度评分 (15分)

评估流动性与交易量的关系。

| 流动性/交易量比率 | 得分 | 说明 |
|-----------------|------|------|
| < 1 | 15 | 交易量适中 |
| 1-2 | 12 | 交易量略高 |
| 2-5 | 10 | 交易量偏高 |
| 5-10 | 6 | 可能拉高出货 |
| > 10 | 3 | 极高交易量 |

**解释**: 如果交易量远超流动性，可能存在拉高出货风险。

### 6. AI 分析评分 (可选，额外加分)

基于 AI 分析的额外评分（0-20分）。

**正面因素** (+2 分每个):
- 名称包含：dao, governance, protocol, finance, defi
- 有审计报告
- 有官方网站
- 有社交媒体

**负面因素** (-2 分每个):
- 名称包含：elon, musk, safe, moon, gem, 100x
- 无网站
- 社交媒体不活跃

## 风险等级

根据总分划分风险等级：

| 分数范围 | 风险等级 | 建议 |
|---------|---------|------|
| 80-100 | 低风险 | ✅ 可以考虑投资，DYOR |
| 60-79 | 中等风险 | ⚠️ 建议小仓位试水 |
| 40-59 | 较高风险 | 🔴 建议谨慎 |
| 0-39 | 极高风险 | 🚨 不建议投资 |

## 评分示例

### 示例 1：低风险代币

```
流动性: $500,000 → 25分
交易次数: 800 → 8分
交易量: $600,000 → 8分
创建时间: 3天 → 10分
貔貅盘检测: 安全 → 20分
市场深度: 比率1.2 → 12分

总分: 83/100 → 低风险
```

### 示例 2：高风险代币

```
流动性: $15,000 → 10分
交易次数: 2000 → 10分
交易量: $2,000,000 → 10分
创建时间: 2小时 → 5分
貔貅盘检测: 有警告 → 10分
市场深度: 比率133 → 3分

总分: 48/100 → 较高风险
```

## 特殊情况

### 自动拒绝 (0分)

以下情况直接标记为极高风险：

1. 确认为貔貅盘
2. 无法获取代币信息
3. 合约已被标记为骗局
4. 买卖税率差异 > 20%

### 自动通过 (60分)

以下情况可能获得基础分：

1. 经过审计的知名协议
2. 已知团队的项目
3. 社区验证的代币

## 实现代码

```javascript
function calculateRiskScore(token, honeypotResult) {
    let score = 0;
    
    // 1. 流动性
    score += calculateLiquidityScore(token.liquidity_usd);
    
    // 2. 交易活跃度
    score += calculateActivityScore(token.txns_24h, token.volume_24h);
    
    // 3. 创建时间
    score += calculateAgeScore(token.created_at);
    
    // 4. 貔貅盘检测
    if (honeypotResult.is_honeypot) {
        return 0; // 直接拒绝
    }
    score += calculateHoneypotScore(honeypotResult);
    
    // 5. 市场深度
    score += calculateMarketDepthScore(token);
    
    return Math.min(100, Math.max(0, score));
}
```

## 优化建议

1. **动态权重** - 根据市场情况调整权重
2. **历史验证** - 用历史数据验证评分准确性
3. **社区反馈** - 收集用户反馈改进规则
4. **定期更新** - 根据新的骗局模式更新检测

## 注意事项

- 评分仅供参考，不构成投资建议
- 即使高分也可能存在风险
- 始终进行自己的研究 (DYOR)
- 不要投资超过你能承受的损失
